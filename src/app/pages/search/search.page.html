<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Search
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Search</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-searchbar (ionChange)='search()' (ionClear)='cancel()' [(ngModel)]="query" animated debounce="500"></ion-searchbar>
  
  <ion-grid>
    <ion-row>
      <ion-col size='12'>
        <ion-segment value='title' (ionChange)='segmentChange($event)'>
          <ion-segment-button value='title'>
            <ion-label>Movie title</ion-label>
          </ion-segment-button>
          <ion-segment-button value='cast'>
            <ion-label>Cast</ion-label>
          </ion-segment-button>
          <ion-segment-button value='genre'>
            <ion-label>Genre</ion-label>
          </ion-segment-button>
        </ion-segment>
      </ion-col>
    </ion-row>
  </ion-grid>
  

  <ion-grid>

    <ion-row *ngIf="reference === 'title'">
      <ion-col size='6' *ngFor='let movie of movies?.results'>
        <app-movie-poster [movie]='movie' (movieDetail)='presentModal(movie)'></app-movie-poster>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="reference === 'cast'">
      <ion-col size='6' *ngFor='let cast of movies?.results'>
        <app-cast-image [cast]='cast' (click)='getMovieList(cast)'></app-cast-image>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="reference === 'genre'">
      <ion-col size='6' *ngFor='let movie of movies?.results'>
        <app-movie-poster [movie]='movie' (movieDetail)='presentModal(movie)'></app-movie-poster>
      </ion-col>
    </ion-row>

  </ion-grid>

</ion-content>
